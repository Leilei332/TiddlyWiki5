title: $:/snippets/themeswitcher

\whitespace trim
\procedure themeFilter() [all[current]field:title{$:/theme}] [[$:/theme]!has[text]addsuffix[s/tiddlywiki/vanilla]field:title<currentTiddler>] +[limit[1]]

<$linkcatcher to="$:/theme">
<div class="tc-chooser" role="listbox">
<$list filter="[plugin-type[theme]sort[title]]">
<$set name="cls" filter=<<themeFilter>> value="tc-chooser-item tc-chosen" emptyValue="tc-chooser-item">
<$set name="selected" filter=<<themeFilter>> value="true" emptyValue="false">
<div class=<<cls>>>
<$link to={{!!title}} role="option" aria-selected=<<selected>>>
''<$view field="name" format="text"/>''
&#32;
<$view field="description" format="text"/>
</$link>
</div>
</$set>
</$set>
</$list>
</div>
</$linkcatcher>